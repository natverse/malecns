% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/urls.R
\name{with_mcns}
\alias{with_mcns}
\alias{choose_mcns}
\title{Evaluate an expression after temporarily setting malevnc options}
\usage{
with_mcns(expr, dataset = getOption("malecns.dataset"))

choose_mcns(
  dataset = getOption("malecns.dataset", default = "male-cns:v0.9"),
  set = TRUE,
  use_clio = NA
)
}
\arguments{
\item{expr}{An expression involving malecns/malevnc functions to evaluate
with the specified autosegmentation. .}

\item{dataset}{The name of the dataset as reported in Clio e.g. \code{CNS},
\code{male-cns:v0.9} etc.}

\item{set}{Whether to set the relevant package options or just to return the,}

\item{use_clio}{Whether to use clio to list datasets (expert use only;
default of \code{use_clio=NA} should do the right thing).}
}
\description{
\code{malecns} is a thin wrapper around \code{malevnc}. This
  function temporarily changes the server/dataset options for the malevnc
  while running your expression.

\code{choose_mcns} swaps out the male vnc dataset for the male
  cns. This means that all functions from the \code{malevnc} package should
  target the male cns instead. It is recommended that you use the
  \code{with_mcns} function to do this temporarily unless you have no
  intention of using the male vnc dataset. \emph{To switch the default
  malecns dataset please see \code{choose_mcns_dataset}}.
}
\details{
Note that as of 11 Aug 2025 it also switches out the active dataset
  for the malecns package if you specify something different using the
  \code{dataset} argument. This is probably what people always expected and
  allows you to easily run the same expression for e.g. production vs
  snapshot malecns datasets.
}
\examples{
\dontrun{
with_mcns(malevnc::manc_dvid_node(type = 'clio'))
}
\donttest{
# This should work for both clio and neuprint calls, here clio:
# this body was typed after the v0.9 snapshot
with_mcns(mcns_body_annotations(194965), dataset = "male-cns:v0.9")
with_mcns(mcns_body_annotations(194965), dataset = "CNS")
}
}
\seealso{
Other malecns-package: 
\code{\link{choose_mcns_dataset}()},
\code{\link{dr_malecns}()},
\code{\link{malecns-package}}
}
\concept{malecns-package}
